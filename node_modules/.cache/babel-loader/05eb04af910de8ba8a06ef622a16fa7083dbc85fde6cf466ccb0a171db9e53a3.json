{"ast":null,"code":"var _jsxFileName = \"/Users/choseunghu/Desktop/react/react-disney-app/src/components/Nav.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { getAuth, GoogleAuthProvider, onAuthStateChanged, signInWithPopup, signOut } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Nav = () => {\n  _s();\n  const initialUserData = localStorage.getItem(\"userData\") ? JSON.parse(localStorage.getItem(\"userData\")) : {};\n  const [show, setShow] = useState(false);\n  const {\n    pathname\n  } = useLocation();\n  const navigate = useNavigate();\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [userData, setUserData] = useState(initialUserData);\n  const auth = getAuth();\n  const provider = new GoogleAuthProvider();\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (!user) {\n        navigate(\"/\");\n      } else if (user && pathname === \"/\") {\n        navigate(\"/main\");\n      }\n    });\n  }, [auth, navigate, pathname]);\n  const handleAuth = () => {\n    signInWithPopup(auth, provider).then(result => {\n      console.log(result);\n      setUserData(result.user);\n      localStorage.setItem(\"userData\", JSON.stringify(result.user));\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n  const listener = () => {\n    if (window.scrollY > 50) {\n      setShow(true);\n    } else {\n      setShow(false);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"scroll\", listener);\n    return () => {\n      window.removeEventListener(\"scroll\", listener);\n    };\n  }, []);\n  const handleChange = e => {\n    setSearchValue(e.target.value);\n    navigate(`/search?q=${e.target.value}`);\n  };\n  const handleLogOut = () => {\n    signOut(auth).then(() => {\n      setUserData({});\n    }).catch(error => {\n      alert(error.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(NavWrapper, {\n    show: show,\n    children: [/*#__PURE__*/_jsxDEV(Logo, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"Disney Plus logo\",\n        src: \"/images/logo.svg\",\n        onClick: () => window.location.href = \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), pathname === \"/\" ? /*#__PURE__*/_jsxDEV(Login, {\n      onClick: handleAuth,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SignOut, {\n        children: [/*#__PURE__*/_jsxDEV(UserImg, {\n          src: userData.photoURL,\n          alt: userData.displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: handleLogOut,\n            children: \"Sign out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(Nav, \"AgCqilZO2zYHnKRdwV6duU/O1r0=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Nav;\nconst DropDown = styled.div`\n  position: absolute;\n  top: 48px;\n  right: 0px;\n  background: rgb(19, 19, 19);\n  border: 1px solid rgba(151, 151, 151, 0.34);\n  border-radius: 4px;\n  padding: 10px;\n  font-size: 14px;\n  letter-spacing: 3px;\n  width: 100px;\n  opacity: 0;\n`;\n_c2 = DropDown;\nconst SignOut = styled.div`\n  position: relative;\n  height: 48px;\n  width: 48px;\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    ${DropDown} {\n      opacity: 1;\n      transition-duration: 1s;\n    }\n  }\n`;\n_c3 = SignOut;\nconst UserImg = styled.img`\n  height: 100%;\n  border-radius: 50%;\n`;\n_c4 = UserImg;\nconst Login = styled.a`\n  background-color: rgba(0, 0, 0, 0.6);\n  padding: 8px 16px;\n  text-transform: uppercase;\n  letter-spacing: 1.5px;\n  border: 1px solid #f9f9f9;\n  border-radius: 4px;\n  transition: all 0.2s ease 0s;\n\n  &:hover {\n    background-color: #f9f9f9;\n    color: #000;\n    border-color: transparent;\n  }\n`;\n_c5 = Login;\nconst Input = styled.input`\n  position: fixed;\n  left: 50%;\n  transform: translate(-50%, 0);\n  background-color: rgba(0, 0, 0, 0.582);\n  border-radius: 5px;\n  color: white;\n  padding: 5px;\n  border: 1px solid lightgray;\n`;\n_c6 = Input;\nconst NavWrapper = styled.nav`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 70px;\n  background-color: ${props => props.show ? \"#090b13\" : \"transparent\"};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 36px;\n  letter-spacing: 16px;\n  z-index: 3;\n`;\n_c7 = NavWrapper;\nconst Logo = styled.a`\n  padding: 0;\n  width: 80px;\n  margin-top: 4px;\n  max-height: 70px;\n  font-size: 0;\n  display: inline-block;\n\n  img {\n    display: block;\n    width: 100%;\n  }\n`;\n_c8 = Logo;\nexport default Nav;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Nav\");\n$RefreshReg$(_c2, \"DropDown\");\n$RefreshReg$(_c3, \"SignOut\");\n$RefreshReg$(_c4, \"UserImg\");\n$RefreshReg$(_c5, \"Login\");\n$RefreshReg$(_c6, \"Input\");\n$RefreshReg$(_c7, \"NavWrapper\");\n$RefreshReg$(_c8, \"Logo\");","map":{"version":3,"names":["React","styled","useEffect","useState","useLocation","useNavigate","getAuth","GoogleAuthProvider","onAuthStateChanged","signInWithPopup","signOut","Nav","initialUserData","localStorage","getItem","JSON","parse","show","setShow","pathname","navigate","searchValue","setSearchValue","userData","setUserData","auth","provider","user","handleAuth","then","result","console","log","setItem","stringify","catch","error","listener","window","scrollY","addEventListener","removeEventListener","handleChange","e","target","value","handleLogOut","alert","message","location","href","photoURL","displayName","DropDown","div","SignOut","UserImg","img","Login","a","Input","input","NavWrapper","nav","props","Logo"],"sources":["/Users/choseunghu/Desktop/react/react-disney-app/src/components/Nav.js"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport {\n  getAuth,\n  GoogleAuthProvider,\n  onAuthStateChanged,\n  signInWithPopup,\n  signOut,\n} from \"firebase/auth\";\n\nconst Nav = () => {\n  const initialUserData = localStorage.getItem(\"userData\")\n    ? JSON.parse(localStorage.getItem(\"userData\"))\n    : {};\n\n  const [show, setShow] = useState(false);\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [userData, setUserData] = useState(initialUserData);\n\n  const auth = getAuth();\n  const provider = new GoogleAuthProvider();\n\n  useEffect(() => {\n    onAuthStateChanged(auth, (user) => {\n      if (!user) {\n        navigate(\"/\");\n      } else if (user && pathname === \"/\") {\n        navigate(\"/main\");\n      }\n    });\n  }, [auth, navigate, pathname]);\n\n  const handleAuth = () => {\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        console.log(result);\n        setUserData(result.user);\n        localStorage.setItem(\"userData\", JSON.stringify(result.user));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const listener = () => {\n    if (window.scrollY > 50) {\n      setShow(true);\n    } else {\n      setShow(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", listener);\n    return () => {\n      window.removeEventListener(\"scroll\", listener);\n    };\n  }, []);\n\n  const handleChange = (e) => {\n    setSearchValue(e.target.value);\n    navigate(`/search?q=${e.target.value}`);\n  };\n\n  const handleLogOut = () => {\n    signOut(auth)\n      .then(() => {\n        setUserData({});\n      })\n      .catch((error) => {\n        alert(error.message);\n      });\n  };\n\n  return (\n    <NavWrapper show={show}>\n      <Logo>\n        <img\n          alt=\"Disney Plus logo\"\n          src=\"/images/logo.svg\"\n          onClick={() => (window.location.href = \"/\")}\n        />\n      </Logo>\n      {pathname === \"/\" ? (\n        <Login onClick={handleAuth}>Login</Login>\n      ) : (\n        <>\n          <Input onChange={handleChange} />\n          <SignOut>\n            <UserImg src={userData.photoURL} alt={userData.displayName} />\n            <DropDown>\n              <span onClick={handleLogOut}>Sign out</span>\n            </DropDown>\n          </SignOut>\n        </>\n      )}\n    </NavWrapper>\n  );\n};\n\nconst DropDown = styled.div`\n  position: absolute;\n  top: 48px;\n  right: 0px;\n  background: rgb(19, 19, 19);\n  border: 1px solid rgba(151, 151, 151, 0.34);\n  border-radius: 4px;\n  padding: 10px;\n  font-size: 14px;\n  letter-spacing: 3px;\n  width: 100px;\n  opacity: 0;\n`;\n\nconst SignOut = styled.div`\n  position: relative;\n  height: 48px;\n  width: 48px;\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    ${DropDown} {\n      opacity: 1;\n      transition-duration: 1s;\n    }\n  }\n`;\n\nconst UserImg = styled.img`\n  height: 100%;\n  border-radius: 50%;\n`;\n\nconst Login = styled.a`\n  background-color: rgba(0, 0, 0, 0.6);\n  padding: 8px 16px;\n  text-transform: uppercase;\n  letter-spacing: 1.5px;\n  border: 1px solid #f9f9f9;\n  border-radius: 4px;\n  transition: all 0.2s ease 0s;\n\n  &:hover {\n    background-color: #f9f9f9;\n    color: #000;\n    border-color: transparent;\n  }\n`;\n\nconst Input = styled.input`\n  position: fixed;\n  left: 50%;\n  transform: translate(-50%, 0);\n  background-color: rgba(0, 0, 0, 0.582);\n  border-radius: 5px;\n  color: white;\n  padding: 5px;\n  border: 1px solid lightgray;\n`;\n\nconst NavWrapper = styled.nav`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 70px;\n  background-color: ${(props) => (props.show ? \"#090b13\" : \"transparent\")};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 36px;\n  letter-spacing: 16px;\n  z-index: 3;\n`;\n\nconst Logo = styled.a`\n  padding: 0;\n  width: 80px;\n  margin-top: 4px;\n  max-height: 70px;\n  font-size: 0;\n  display: inline-block;\n\n  img {\n    display: block;\n    width: 100%;\n  }\n`;\n\nexport default Nav;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SACEC,OAAO,EACPC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,OAAO,QACF,eAAe;AAAC;AAAA;AAEvB,MAAMC,GAAG,GAAG,MAAM;EAAA;EAChB,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,GACpDC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,GAC5C,CAAC,CAAC;EAEN,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM;IAAEgB;EAAS,CAAC,GAAGf,WAAW,EAAE;EAClC,MAAMgB,QAAQ,GAAGf,WAAW,EAAE;EAC9B,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAACS,eAAe,CAAC;EAEzD,MAAMa,IAAI,GAAGnB,OAAO,EAAE;EACtB,MAAMoB,QAAQ,GAAG,IAAInB,kBAAkB,EAAE;EAEzCL,SAAS,CAAC,MAAM;IACdM,kBAAkB,CAACiB,IAAI,EAAGE,IAAI,IAAK;MACjC,IAAI,CAACA,IAAI,EAAE;QACTP,QAAQ,CAAC,GAAG,CAAC;MACf,CAAC,MAAM,IAAIO,IAAI,IAAIR,QAAQ,KAAK,GAAG,EAAE;QACnCC,QAAQ,CAAC,OAAO,CAAC;MACnB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACK,IAAI,EAAEL,QAAQ,EAAED,QAAQ,CAAC,CAAC;EAE9B,MAAMS,UAAU,GAAG,MAAM;IACvBnB,eAAe,CAACgB,IAAI,EAAEC,QAAQ,CAAC,CAC5BG,IAAI,CAAEC,MAAM,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnBN,WAAW,CAACM,MAAM,CAACH,IAAI,CAAC;MACxBd,YAAY,CAACoB,OAAO,CAAC,UAAU,EAAElB,IAAI,CAACmB,SAAS,CAACJ,MAAM,CAACH,IAAI,CAAC,CAAC;IAC/D,CAAC,CAAC,CACDQ,KAAK,CAAEC,KAAK,IAAK;MAChBL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAM;IACrB,IAAIC,MAAM,CAACC,OAAO,GAAG,EAAE,EAAE;MACvBrB,OAAO,CAAC,IAAI,CAAC;IACf,CAAC,MAAM;MACLA,OAAO,CAAC,KAAK,CAAC;IAChB;EACF,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACdoC,MAAM,CAACE,gBAAgB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;IAC3C,OAAO,MAAM;MACXC,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;IAChD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,YAAY,GAAIC,CAAC,IAAK;IAC1BrB,cAAc,CAACqB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAC9BzB,QAAQ,CAAE,aAAYuB,CAAC,CAACC,MAAM,CAACC,KAAM,EAAC,CAAC;EACzC,CAAC;EAED,MAAMC,YAAY,GAAG,MAAM;IACzBpC,OAAO,CAACe,IAAI,CAAC,CACVI,IAAI,CAAC,MAAM;MACVL,WAAW,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;MAChBW,KAAK,CAACX,KAAK,CAACY,OAAO,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EAED,oBACE,QAAC,UAAU;IAAC,IAAI,EAAE/B,IAAK;IAAA,wBACrB,QAAC,IAAI;MAAA,uBACH;QACE,GAAG,EAAC,kBAAkB;QACtB,GAAG,EAAC,kBAAkB;QACtB,OAAO,EAAE,MAAOqB,MAAM,CAACW,QAAQ,CAACC,IAAI,GAAG;MAAK;QAAA;QAAA;QAAA;MAAA;IAC5C;MAAA;MAAA;MAAA;IAAA,QACG,EACN/B,QAAQ,KAAK,GAAG,gBACf,QAAC,KAAK;MAAC,OAAO,EAAES,UAAW;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAc,gBAEzC;MAAA,wBACE,QAAC,KAAK;QAAC,QAAQ,EAAEc;MAAa;QAAA;QAAA;QAAA;MAAA,QAAG,eACjC,QAAC,OAAO;QAAA,wBACN,QAAC,OAAO;UAAC,GAAG,EAAEnB,QAAQ,CAAC4B,QAAS;UAAC,GAAG,EAAE5B,QAAQ,CAAC6B;QAAY;UAAA;UAAA;UAAA;QAAA,QAAG,eAC9D,QAAC,QAAQ;UAAA,uBACP;YAAM,OAAO,EAAEN,YAAa;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAgB;UAAA;UAAA;UAAA;QAAA,QACnC;MAAA;QAAA;QAAA;QAAA;MAAA,QACH;IAAA,gBAEb;EAAA;IAAA;IAAA;IAAA;EAAA,QACU;AAEjB,CAAC;AAAC,GA3FInC,GAAG;EAAA,QAMcP,WAAW,EACfC,WAAW;AAAA;AAAA,KAPxBM,GAAG;AA6FT,MAAM0C,QAAQ,GAAGpD,MAAM,CAACqD,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAZID,QAAQ;AAcd,MAAME,OAAO,GAAGtD,MAAM,CAACqD,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMD,QAAS;AACf;AACA;AACA;AACA;AACA,CAAC;AAAC,MAfIE,OAAO;AAiBb,MAAMC,OAAO,GAAGvD,MAAM,CAACwD,GAAI;AAC3B;AACA;AACA,CAAC;AAAC,MAHID,OAAO;AAKb,MAAME,KAAK,GAAGzD,MAAM,CAAC0D,CAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAdID,KAAK;AAgBX,MAAME,KAAK,GAAG3D,MAAM,CAAC4D,KAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MATID,KAAK;AAWX,MAAME,UAAU,GAAG7D,MAAM,CAAC8D,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,sBAAuBC,KAAK,IAAMA,KAAK,CAAC/C,IAAI,GAAG,SAAS,GAAG,aAAe;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAbI6C,UAAU;AAehB,MAAMG,IAAI,GAAGhE,MAAM,CAAC0D,CAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAZIM,IAAI;AAcV,eAAetD,GAAG;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}